<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Equipos - CBIT FUNDABIT</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <style>
        :root {
            --primary-color: #1a5fb4;
            --secondary-color: #ffcd00;
            --accent-color: #cf142b;
            --light-color: #f6f5f4;
            --dark-color: #241f31;
            --gray-color: #deddda;
            --danger-color: #c01c28;
            --warning-color: #f5c211;
            --success-color: #26a269;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f0f0f0;
            color: var(--dark-color);
            line-height: 1.6;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%231a5fb4' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: var(--primary-color);
            color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 100%;
            background: var(--secondary-color);
            clip-path: polygon(25% 0%, 100% 0%, 100% 100%, 0% 100%);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
            color: var(--secondary-color);
            background: white;
            padding: 15px;
            border-radius: 50%;
            box-shadow: var(--shadow);
        }

        .logo-text h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .logo-text p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .cbit-badge {
            background: var(--accent-color);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: var(--shadow);
        }

        .main-panel {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 992px) {
            .main-panel {
                grid-template-columns: 1fr;
            }
        }

        .form-container {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border-top: 5px solid var(--secondary-color);
        }

        .form-container h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--gray-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-container h2 i {
            color: var(--secondary-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-color);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--gray-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: #0d4a9c;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-secondary {
            background: var(--secondary-color);
            color: var(--dark-color);
        }

        .btn-secondary:hover {
            background: #e6b800;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background: #a51a1a;
        }

        .btn-full {
            width: 100%;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .table-container {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border-top: 5px solid var(--primary-color);
            overflow-x: auto;
        }

        .table-container h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--gray-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .table-container h2 i {
            color: var(--accent-color);
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .search-box {
            position: relative;
            flex-grow: 1;
            max-width: 400px;
        }

        .search-box input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: 2px solid var(--gray-color);
            border-radius: var(--border-radius);
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
        }

        .equipment-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .equipment-table th {
            background: var(--primary-color);
            color: white;
            text-align: left;
            padding: 15px;
            font-weight: 600;
        }

        .equipment-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--gray-color);
        }

        .equipment-table tr:hover {
            background-color: #f9f9f9;
        }

        .equipment-table tr:nth-child(even) {
            background-color: #f5f5f5;
        }

        .equipment-table tr:nth-child(even):hover {
            background-color: #f0f0f0;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-operativo {
            background: #d4edda;
            color: #155724;
        }

        .status-mantenimiento {
            background: #fff3cd;
            color: #856404;
        }

        .status-danado {
            background: #f8d7da;
            color: #721c24;
        }

        .actions-cell {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .action-btn-edit {
            background: var(--secondary-color);
            color: var(--dark-color);
        }

        .action-btn-delete {
            background: var(--danger-color);
            color: white;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 15px;
            border-left: 5px solid var(--primary-color);
        }

        .stat-card:nth-child(2) {
            border-left-color: var(--secondary-color);
        }

        .stat-card:nth-child(3) {
            border-left-color: var(--accent-color);
        }

        .stat-card:nth-child(4) {
            border-left-color: var(--warning-color);
        }

        .stat-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            background: #e9f2ff;
            padding: 15px;
            border-radius: 50%;
        }

        .stat-content h3 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            color: var(--dark-color);
        }

        .stat-content p {
            color: #666;
            font-size: 0.9rem;
        }

        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid var(--gray-color);
        }

        .footer-logo {
            color: var(--primary-color);
            font-weight: bold;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--gray-color);
        }

        .modal-header h3 {
            color: var(--primary-color);
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 400px;
        }

        .notification {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            animation: slideIn 0.3s ease-out;
            border-left: 5px solid var(--primary-color);
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }

        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .notification.hide {
            transform: translateX(100%);
            opacity: 0;
        }

        .notification-success {
            border-left-color: var(--success-color);
        }

        .notification-success .notification-header {
            background: var(--success-color);
        }

        .notification-warning {
            border-left-color: var(--warning-color);
        }

        .notification-warning .notification-header {
            background: var(--warning-color);
        }

        .notification-danger {
            border-left-color: var(--danger-color);
        }

        .notification-danger .notification-header {
            background: var(--danger-color);
        }

        .notification-info {
            border-left-color: var(--primary-color);
        }

        .notification-info .notification-header {
            background: var(--primary-color);
        }

        .notification-header {
            background: var(--primary-color);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .notification-title {
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .notification-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .notification-body {
            padding: 20px;
            color: var(--dark-color);
            line-height: 1.5;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .notification-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .notification-success .notification-icon {
            color: var(--success-color);
        }

        .notification-warning .notification-icon {
            color: var(--warning-color);
        }

        .notification-danger .notification-icon {
            color: var(--danger-color);
        }

        .notification-info .notification-icon {
            color: var(--primary-color);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .cbit-badge {
                align-self: flex-end;
            }
            
            .table-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .search-box {
                max-width: 100%;
            }
            
            .notification-container {
                left: 20px;
                right: 20px;
                max-width: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="logo-container">
                    <div class="logo-icon">
                        <i class="fas fa-laptop-house"></i>
                    </div>
                    <div class="logo-text">
                        <h1>Sistema de Registro de Equipos</h1>
                        <p>Centro Bolivariano de Informática y Telemática - FUNDABIT</p>
                    </div>
                </div>
                <div class="cbit-badge">
                    <i class="fas fa-graduation-cap"></i> CBIT - Tecnología Educativa
                </div>
            </div>
        </header>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-desktop"></i>
                </div>
                <div class="stat-content">
                    <h3 id="total-equipos">0</h3>
                    <p>Equipos Registrados</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-content">
                    <h3 id="equipos-operativos">0</h3>
                    <p>Equipos Operativos</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <div class="stat-content">
                    <h3 id="equipos-mantenimiento">0</h3>
                    <p>En Mantenimiento</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="stat-content">
                    <h3 id="equipos-danados">0</h3>
                    <p>Equipos Dañados</p>
                </div>
            </div>
        </div>

        <div class="main-panel">
            <section class="form-container">
                <h2><i class="fas fa-plus-circle"></i> Registrar Nuevo Equipo</h2>
                <form id="equipment-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="serial"><i class="fas fa-barcode"></i> Serial del Equipo</label>
                            <input type="text" id="serial" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="tipo"><i class="fas fa-tag"></i> Tipo de Equipo</label>
                            <select id="tipo" class="form-control" required>
                                <option value="">Seleccione un tipo</option>
                                <option value="Computadora">Computadora</option>
                                <option value="Laptop">Laptop</option>
                                <option value="Tablet">Tablet</option>
                                <option value="Monitor">Monitor</option>
                                <option value="Teclado">Teclado</option>
                                <option value="Mouse">Mouse</option>
                                <option value="Impresora">Impresora</option>
                                <option value="Proyector">Proyector</option>
                                <option value="Mesa">Mesa</option>
                                <option value="Silla">Silla</option>
                                <option value="Estante">Estante</option>
                                <option value="Router">Router</option>
                                <option value="Switch">Switch</option>
                                <option value="Otro">Otro</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="marca"><i class="fas fa-industry"></i> Marca</label>
                            <input type="text" id="marca" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="modelo"><i class="fas fa-cogs"></i> Modelo</label>
                            <input type="text" id="modelo" class="form-control" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="cantidad"><i class="fas fa-hashtag"></i> Cantidad</label>
                            <input type="number" id="cantidad" class="form-control" min="1" value="1" required>
                        </div>
                        <div class="form-group">
                            <label for="estado"><i class="fas fa-clipboard-check"></i> Estado</label>
                            <select id="estado" class="form-control" required>
                                <option value="Operativo">Operativo</option>
                                <option value="En Mantenimiento">En Mantenimiento</option>
                                <option value="Dañado">Dañado</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="ubicacion"><i class="fas fa-map-marker-alt"></i> Ubicación en el CBIT</label>
                        <select id="ubicacion" class="form-control" required>
                            <option value="">Seleccione ubicación</option>
                            <option value="Sala de Computación">Sala de Computación</option>
                            <option value="Área de Servidores">Área de Servidores</option>
                            <option value="Oficina Administrativa">Oficina Administrativa</option>
                            <option value="Sala de Reuniones">Sala de Reuniones</option>
                            <option value="Biblioteca">Biblioteca</option>
                            <option value="Almacén">Almacén</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="descripcion"><i class="fas fa-file-alt"></i> Descripción / Observaciones</label>
                        <textarea id="descripcion" class="form-control" rows="3"></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="fecha-adquisicion"><i class="fas fa-calendar-alt"></i> Fecha de Adquisición</label>
                            <input type="date" id="fecha-adquisicion" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="responsable"><i class="fas fa-user"></i> Responsable</label>
                            <input type="text" id="responsable" class="form-control" required>
                        </div>
                    </div>

                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary btn-full">
                            <i class="fas fa-save"></i> Registrar Equipo
                        </button>
                    </div>
                </form>
            </section>

            <section class="table-container">
                <div class="table-header">
                    <h2><i class="fas fa-list"></i> Equipos Registrados</h2>
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-input" placeholder="Buscar equipos...">
                    </div>
                </div>

                <div class="btn-group">
                    <button id="print-report" class="btn btn-secondary">
                        <i class="fas fa-print"></i> Imprimir Reporte
                    </button>
                    <button id="export-pdf" class="btn btn-primary">
                        <i class="fas fa-file-pdf"></i> Exportar a PDF
                    </button>
                    <button id="clear-all" class="btn btn-danger">
                        <i class="fas fa-trash-alt"></i> Limpiar Todo
                    </button>
                </div>

                <table class="equipment-table">
                    <thead>
                        <tr>
                            <th>Serial</th>
                            <th>Tipo</th>
                            <th>Marca/Modelo</th>
                            <th>Cantidad</th>
                            <th>Estado</th>
                            <th>Ubicación</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="equipment-table-body">
                    </tbody>
                </table>
            </section>
        </div>

        <footer class="footer">
            <p>Sistema de Registro de Equipos CBIT - <span class="footer-logo">FUNDABIT</span> © 2026</p>
           <p>Elaborado por Eddy Pacheco facilitador tecnologico</p>
            <p>Ministerio del Poder Popular para la Educación - Venezuela</p>
        </footer>

        <!-- Modal para editar equipo - MODIFICADO PARA INCLUIR ESTADO -->
        <div id="edit-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-edit"></i> Editar Equipo</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <form id="edit-form">
                    <input type="hidden" id="edit-id">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-serial">Serial del Equipo</label>
                            <input type="text" id="edit-serial" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-tipo">Tipo de Equipo</label>
                            <select id="edit-tipo" class="form-control" required>
                                <option value="Computadora">Computadora</option>
                                <option value="Laptop">Laptop</option>
                                <option value="Tablet">Tablet</option>
                                <option value="Monitor">Monitor</option>
                                <option value="Teclado">Teclado</option>
                                <option value="Mouse">Mouse</option>
                                <option value="Impresora">Impresora</option>
                                <option value="Proyector">Proyector</option>
                                <option value="Mesa">Mesa</option>
                                <option value="Silla">Silla</option>
                                <option value="Estante">Estante</option>
                                <option value="Router">Router</option>
                                <option value="Switch">Switch</option>
                                <option value="Otro">Otro</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-marca">Marca</label>
                            <input type="text" id="edit-marca" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-modelo">Modelo</label>
                            <input type="text" id="edit-modelo" class="form-control" required>
                        </div>
                    </div>
                    <!-- NUEVO: Campo para editar el estado -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-cantidad">Cantidad</label>
                            <input type="number" id="edit-cantidad" class="form-control" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-estado">Estado</label>
                            <select id="edit-estado" class="form-control" required>
                                <option value="Operativo">Operativo</option>
                                <option value="En Mantenimiento">En Mantenimiento</option>
                                <option value="Dañado">Dañado</option>
                            </select>
                        </div>
                    </div>
                    <!-- NUEVO: Campo para editar la ubicación -->
                    <div class="form-group">
                        <label for="edit-ubicacion">Ubicación en el CBIT</label>
                        <select id="edit-ubicacion" class="form-control" required>
                            <option value="Sala de Computación">Sala de Computación</option>
                            <option value="Área de Servidores">Área de Servidores</option>
                            <option value="Oficina Administrativa">Oficina Administrativa</option>
                            <option value="Sala de Reuniones">Sala de Reuniones</option>
                            <option value="Biblioteca">Biblioteca</option>
                            <option value="Almacén">Almacén</option>
                        </select>
                    </div>
                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                        <button type="button" class="btn btn-secondary close-modal">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="notification-container" id="notification-container"></div>

    <script>
        const initialEquipment = [
            {
                id: 1,
                serial: "CBIT-2023-001",
                tipo: "Computadora",
                marca: "HP",
                modelo: "ProDesk 400 G6",
                cantidad: 15,
                estado: "Operativo",
                ubicacion: "Sala de Computación",
                descripcion: "Equipos para estudiantes",
                fechaAdquisicion: "2023-03-15",
                responsable: "Prof. María González"
            },
            {
                id: 2,
                serial: "CBIT-2022-045",
                tipo: "Laptop",
                marca: "Lenovo",
                modelo: "ThinkPad E15",
                cantidad: 5,
                estado: "En Mantenimiento",
                ubicacion: "Oficina Administrativa",
                descripcion: "Para uso del personal docente",
                fechaAdquisicion: "2022-11-20",
                responsable: "Lic. Carlos Pérez"
            },
            {
                id: 3,
                serial: "CBIT-2021-128",
                tipo: "Proyector",
                marca: "Epson",
                modelo: "EB-X06",
                cantidad: 2,
                estado: "Operativo",
                ubicacion: "Sala de Reuniones",
                descripcion: "Proyector multimedia",
                fechaAdquisicion: "2021-08-10",
                responsable: "Tec. Juan Rodríguez"
            },
            {
                id: 4,
                serial: "CBIT-2020-067",
                tipo: "Impresora",
                marca: "Canon",
                modelo: "PIXMA G3110",
                cantidad: 1,
                estado: "Dañado",
                ubicacion: "Oficina Administrativa",
                descripcion: "Requiere cambio de cabezal",
                fechaAdquisicion: "2020-05-22",
                responsable: "Prof. Ana Martínez"
            },
            {
                id: 5,
                serial: "CBIT-2023-089",
                tipo: "Mesa",
                marca: "Mobiliario Escolar",
                modelo: "ME-2023",
                cantidad: 20,
                estado: "Operativo",
                ubicacion: "Sala de Computación",
                descripcion: "Mesas para computadoras",
                fechaAdquisicion: "2023-01-30",
                responsable: "Prof. Luis Fernández"
            }
        ];

        let equipmentList = [];
        let currentId = 6;

        function showNotification(title, message, type = 'info', duration = 5000) {
            const container = document.getElementById('notification-container');
            const notificationId = 'notification-' + Date.now();
            
            const icons = {
                'success': 'fas fa-check-circle',
                'warning': 'fas fa-exclamation-triangle',
                'danger': 'fas fa-times-circle',
                'info': 'fas fa-info-circle'
            };
            
            const defaultTitles = {
                'success': '¡Éxito!',
                'warning': 'Advertencia',
                'danger': 'Error',
                'info': 'Información'
            };
            
            const notificationTitle = title || defaultTitles[type];
            
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.id = notificationId;
            
            notification.innerHTML = `
                <div class="notification-header">
                    <div class="notification-title">
                        <i class="${icons[type]}"></i>
                        <span>${notificationTitle}</span>
                    </div>
                    <button class="notification-close" onclick="closeNotification('${notificationId}')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="notification-body">
                    <div class="notification-icon">
                        <i class="${icons[type]}"></i>
                    </div>
                    <div class="notification-content">
                        ${message}
                    </div>
                </div>
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            if (duration > 0) {
                setTimeout(() => {
                    closeNotification(notificationId);
                }, duration);
            }
            
            return notificationId;
        }
        
        function closeNotification(notificationId) {
            const notification = document.getElementById(notificationId);
            if (notification) {
                notification.classList.remove('show');
                notification.classList.add('hide');
                
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }
        }
        
        function showSuccessRegisterMessage(equipmentType, serial) {
            const message = `
                <strong>¡Equipo registrado exitosamente!</strong><br>
                <small>Tipo: ${equipmentType} | Serial: ${serial}</small><br>
                El equipo ha sido agregado al inventario del CBIT.
            `;
            return showNotification('Registro Exitoso', message, 'success', 6000);
        }
        
        function showSuccessEditMessage(equipmentType, serial) {
            const message = `
                <strong>¡Equipo actualizado exitosamente!</strong><br>
                <small>Tipo: ${equipmentType} | Serial: ${serial}</small><br>
                Los cambios han sido guardados en el sistema.
            `;
            return showNotification('Actualización Exitosa', message, 'success', 5000);
        }
        
        function showDeleteMessage(equipmentType, serial) {
            const message = `
                <strong>¡Equipo eliminado del sistema!</strong><br>
                <small>Tipo: ${equipmentType} | Serial: ${serial}</small><br>
                El equipo ha sido removido del inventario del CBIT.
            `;
            return showNotification('Eliminación Exitosa', message, 'warning', 5000);
        }
        
        function showClearAllMessage() {
            const message = `
                <strong>¡Todos los equipos han sido eliminados!</strong><br>
                El inventario del CBIT ha sido limpiado completamente.<br>
                <small>Esta acción no se puede deshacer.</small>
            `;
            return showNotification('Inventario Limpiado', message, 'danger', 7000);
        }
        
        function showPDFSuccessMessage() {
            const message = `
                <strong>¡Reporte PDF generado exitosamente!</strong><br>
                El archivo se ha descargado a tu dispositivo.<br>
                <small>Revisa la carpeta de descargas.</small>
            `;
            return showNotification('PDF Generado', message, 'info', 5000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            const storedData = localStorage.getItem('cbitEquipment');
            
            if (storedData) {
                equipmentList = JSON.parse(storedData);
                currentId = equipmentList.length > 0 ? 
                    Math.max(...equipmentList.map(eq => eq.id)) + 1 : 6;
            } else {
                equipmentList = [...initialEquipment];
                saveToLocalStorage();
            }
            
            renderEquipmentTable();
            updateStats();
            
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('fecha-adquisicion').value = today;
            
            setTimeout(() => {
                showNotification(
                    'Bienvenido al Sistema CBIT', 
                    'Sistema de registro de equipos del Centro Bolivariano de Informática y Telemática - FUNDABIT', 
                    'info', 
                    8000
                );
            }, 1000);
        });

        function saveToLocalStorage() {
            localStorage.setItem('cbitEquipment', JSON.stringify(equipmentList));
        }

        function renderEquipmentTable(filter = '') {
            const tableBody = document.getElementById('equipment-table-body');
            tableBody.innerHTML = '';
            
            const filteredEquipment = equipmentList.filter(equipment => {
                const searchTerm = filter.toLowerCase();
                return (
                    equipment.serial.toLowerCase().includes(searchTerm) ||
                    equipment.tipo.toLowerCase().includes(searchTerm) ||
                    equipment.marca.toLowerCase().includes(searchTerm) ||
                    equipment.modelo.toLowerCase().includes(searchTerm) ||
                    equipment.ubicacion.toLowerCase().includes(searchTerm)
                );
            });
            
            if (filteredEquipment.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 30px;">
                            <i class="fas fa-inbox" style="font-size: 2rem; color: #ccc; margin-bottom: 10px;"></i>
                            <p>No se encontraron equipos registrados</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            filteredEquipment.forEach(equipment => {
                const row = document.createElement('tr');
                
                let statusClass = '';
                if (equipment.estado === 'Operativo') statusClass = 'status-operativo';
                else if (equipment.estado === 'En Mantenimiento') statusClass = 'status-mantenimiento';
                else statusClass = 'status-danado';
                
                row.innerHTML = `
                    <td>${equipment.serial}</td>
                    <td>${equipment.tipo}</td>
                    <td>${equipment.marca} ${equipment.modelo}</td>
                    <td>${equipment.cantidad}</td>
                    <td><span class="status-badge ${statusClass}">${equipment.estado}</span></td>
                    <td>${equipment.ubicacion}</td>
                    <td class="actions-cell">
                        <button class="action-btn action-btn-edit" data-id="${equipment.id}">
                            <i class="fas fa-edit"></i> Editar
                        </button>
                        <button class="action-btn action-btn-delete" data-id="${equipment.id}">
                            <i class="fas fa-trash"></i> Eliminar
                        </button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            document.querySelectorAll('.action-btn-edit').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    editEquipment(id);
                });
            });
            
            document.querySelectorAll('.action-btn-delete').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteEquipment(id);
                });
            });
        }

        function updateStats() {
            const total = equipmentList.length;
            const operativos = equipmentList.filter(e => e.estado === 'Operativo').length;
            const mantenimiento = equipmentList.filter(e => e.estado === 'En Mantenimiento').length;
            const danados = equipmentList.filter(e => e.estado === 'Dañado').length;
            
            document.getElementById('total-equipos').textContent = total;
            document.getElementById('equipos-operativos').textContent = operativos;
            document.getElementById('equipos-mantenimiento').textContent = mantenimiento;
            document.getElementById('equipos-danados').textContent = danados;
        }

        document.getElementById('equipment-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newEquipment = {
                id: currentId++,
                serial: document.getElementById('serial').value,
                tipo: document.getElementById('tipo').value,
                marca: document.getElementById('marca').value,
                modelo: document.getElementById('modelo').value,
                cantidad: parseInt(document.getElementById('cantidad').value),
                estado: document.getElementById('estado').value,
                ubicacion: document.getElementById('ubicacion').value,
                descripcion: document.getElementById('descripcion').value,
                fechaAdquisicion: document.getElementById('fecha-adquisicion').value,
                responsable: document.getElementById('responsable').value
            };
            
            equipmentList.push(newEquipment);
            saveToLocalStorage();
            renderEquipmentTable();
            updateStats();
            
            showSuccessRegisterMessage(newEquipment.tipo, newEquipment.serial);
            
            this.reset();
            
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('fecha-adquisicion').value = today;
        });

        // MODIFICADA: Ahora incluye todos los campos editables
        function editEquipment(id) {
            const equipment = equipmentList.find(e => e.id === id);
            if (!equipment) return;
            
            // Llenar el formulario de edición con los datos actuales del equipo
            document.getElementById('edit-id').value = equipment.id;
            document.getElementById('edit-serial').value = equipment.serial;
            document.getElementById('edit-tipo').value = equipment.tipo;
            document.getElementById('edit-marca').value = equipment.marca;
            document.getElementById('edit-modelo').value = equipment.modelo;
            document.getElementById('edit-cantidad').value = equipment.cantidad;
            document.getElementById('edit-estado').value = equipment.estado;
            document.getElementById('edit-ubicacion').value = equipment.ubicacion;
            
            // Mostrar modal
            document.getElementById('edit-modal').style.display = 'flex';
        }

        // MODIFICADA: Ahora guarda todos los campos editables
        document.getElementById('edit-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const id = parseInt(document.getElementById('edit-id').value);
            const equipmentIndex = equipmentList.findIndex(e => e.id === id);
            
            if (equipmentIndex !== -1) {
                // Guardar el equipo antes de los cambios para mostrar en notificación
                const oldEquipment = {...equipmentList[equipmentIndex]};
                
                // Actualizar todos los campos del equipo
                equipmentList[equipmentIndex].serial = document.getElementById('edit-serial').value;
                equipmentList[equipmentIndex].tipo = document.getElementById('edit-tipo').value;
                equipmentList[equipmentIndex].marca = document.getElementById('edit-marca').value;
                equipmentList[equipmentIndex].modelo = document.getElementById('edit-modelo').value;
                equipmentList[equipmentIndex].cantidad = parseInt(document.getElementById('edit-cantidad').value);
                equipmentList[equipmentIndex].estado = document.getElementById('edit-estado').value;
                equipmentList[equipmentIndex].ubicacion = document.getElementById('edit-ubicacion').value;
                
                saveToLocalStorage();
                renderEquipmentTable();
                updateStats();
                
                // Cerrar modal
                document.getElementById('edit-modal').style.display = 'none';
                
                // Mostrar mensaje de éxito
                showSuccessEditMessage(
                    equipmentList[equipmentIndex].tipo, 
                    equipmentList[equipmentIndex].serial
                );
            }
        });

        function deleteEquipment(id) {
            const equipment = equipmentList.find(e => e.id === id);
            if (!equipment) return;
            
            const confirmMessage = `
                <strong>¿Está seguro de eliminar este equipo?</strong><br>
                <small>Tipo: ${equipment.tipo} | Serial: ${equipment.serial}</small><br>
                Esta acción no se puede deshacer.
            `;
            
            const confirmId = showNotification(
                'Confirmar Eliminación', 
                confirmMessage, 
                'danger', 
                0
            );
            
            const notification = document.getElementById(confirmId);
            const buttonContainer = document.createElement('div');
            buttonContainer.style.display = 'flex';
            buttonContainer.style.gap = '10px';
            buttonContainer.style.marginTop = '15px';
            
            buttonContainer.innerHTML = `
                <button id="confirm-delete" style="flex:1; padding:8px; background:#c01c28; color:white; border:none; border-radius:4px; cursor:pointer;">
                    <i class="fas fa-trash"></i> Sí, eliminar
                </button>
                <button id="cancel-delete" style="flex:1; padding:8px; background:#666; color:white; border:none; border-radius:4px; cursor:pointer;">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            `;
            
            notification.querySelector('.notification-body .notification-content').appendChild(buttonContainer);
            
            document.getElementById('confirm-delete').addEventListener('click', function() {
                equipmentList = equipmentList.filter(e => e.id !== id);
                saveToLocalStorage();
                renderEquipmentTable();
                updateStats();
                
                closeNotification(confirmId);
                showDeleteMessage(equipment.tipo, equipment.serial);
            });
            
            document.getElementById('cancel-delete').addEventListener('click', function() {
                closeNotification(confirmId);
            });
        }

        document.getElementById('search-input').addEventListener('input', function() {
            renderEquipmentTable(this.value);
        });

        document.getElementById('export-pdf').addEventListener('click', function() {
            generatePDFReport();
        });

        function generatePDFReport() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            doc.setFontSize(20);
            doc.setTextColor(26, 95, 180);
            doc.text('Reporte de Equipos CBIT - FUNDABIT', 20, 20);
            
            doc.setFontSize(12);
            doc.setTextColor(0, 0, 0);
            doc.text(`Fecha de generación: ${new Date().toLocaleDateString('es-ES')}`, 20, 30);
            doc.text(`Total de equipos registrados: ${equipmentList.length}`, 20, 37);
            
            const operativos = equipmentList.filter(e => e.estado === 'Operativo').length;
            const mantenimiento = equipmentList.filter(e => e.estado === 'En Mantenimiento').length;
            const danados = equipmentList.filter(e => e.estado === 'Dañado').length;
            
            doc.text(`Equipos operativos: ${operativos}`, 20, 44);
            doc.text(`Equipos en mantenimiento: ${mantenimiento}`, 20, 51);
            doc.text(`Equipos dañados: ${danados}`, 20, 58);
            
            const tableData = equipmentList.map(equipment => [
                equipment.serial,
                equipment.tipo,
                equipment.marca,
                equipment.modelo,
                equipment.cantidad.toString(),
                equipment.estado,
                equipment.ubicacion,
                equipment.responsable
            ]);
            
            doc.autoTable({
                head: [['Serial', 'Tipo', 'Marca', 'Modelo', 'Cantidad', 'Estado', 'Ubicación', 'Responsable']],
                body: tableData,
                startY: 65,
                headStyles: { fillColor: [26, 95, 180] },
                alternateRowStyles: { fillColor: [240, 240, 240] },
                margin: { left: 20 }
            });
            
            const pageCount = doc.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
                doc.setPage(i);
                doc.setFontSize(10);
                doc.setTextColor(128, 128, 128);
                doc.text(`Página ${i} de ${pageCount}`, doc.internal.pageSize.width - 40, doc.internal.pageSize.height - 10);
                doc.text('Sistema de Registro CBIT - FUNDABIT', 20, doc.internal.pageSize.height - 10);
            }
            
            doc.save(`reporte_equipos_cbit_${new Date().toISOString().slice(0,10)}.pdf`);
            
            showPDFSuccessMessage();
        }

        document.getElementById('print-report').addEventListener('click', function() {
            window.print();
        });

        document.getElementById('clear-all').addEventListener('click', function() {
            const confirmMessage = `
                <strong>¿Está seguro de eliminar TODOS los equipos?</strong><br>
                Se eliminarán ${equipmentList.length} equipos del inventario.<br>
                <small>Esta acción NO se puede deshacer.</small>
            `;
            
            const confirmId = showNotification(
                'Confirmar Limpieza Total', 
                confirmMessage, 
                'danger', 
                0
            );
            
            const notification = document.getElementById(confirmId);
            const buttonContainer = document.createElement('div');
            buttonContainer.style.display = 'flex';
            buttonContainer.style.gap = '10px';
            buttonContainer.style.marginTop = '15px';
            
            buttonContainer.innerHTML = `
                <button id="confirm-clear" style="flex:1; padding:8px; background:#c01c28; color:white; border:none; border-radius:4px; cursor:pointer;">
                    <i class="fas fa-trash"></i> Sí, limpiar todo
                </button>
                <button id="cancel-clear" style="flex:1; padding:8px; background:#666; color:white; border:none; border-radius:4px; cursor:pointer;">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            `;
            
            notification.querySelector('.notification-body .notification-content').appendChild(buttonContainer);
            
            document.getElementById('confirm-clear').addEventListener('click', function() {
                equipmentList = [];
                currentId = 1;
                saveToLocalStorage();
                renderEquipmentTable();
                updateStats();
                
                closeNotification(confirmId);
                showClearAllMessage();
            });
            
            document.getElementById('cancel-clear').addEventListener('click', function() {
                closeNotification(confirmId);
            });
        });

        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', function() {
                document.getElementById('edit-modal').style.display = 'none';
            });
        });

        window.addEventListener('click', function(e) {
            const modal = document.getElementById('edit-modal');
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });
    </script>
</body>
</html>
